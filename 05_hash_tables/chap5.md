# chap5. 해시 테이블

## 해시 함수의 소개
배열은 인덱스를 이용해서 빠르게 탐색할 수 있다.  
해시 함수(hash function)은 문자열(바이트열)을 숫자로 반환하는 함수이다.  
해시 함수와 배열을 합치면 해시 테이블(hash table)이라는 자료구조를 얻게 되는데,
문자열을 인덱스처럼 사용하여 빠른 탐색이 가능하다.

대부분의 프로그래밍 언어들은 해시 테이블이 구현되어 있고, 파이썬에서는 딕셔너리(dict)로 구현되어 있다.
해시 테이블은 키, 값을 가진다.
## 해시 함수
해시 함수는 같은 입력에 대해 일관성 있게 return해야 한다.
## 해시 테이블을 사용하는 예

#### 해시 테이블로 검색하기
휴대폰의 전화번호부
#### 중복된 항목을 방지하기
투표소
#### 해시 테이블을 캐시로 사용하기
#### 해시 테이블의 장점
- 어떤 것과 다른 것 사이의 관계를 모형화할 수 있다.
- 중복을 막을 수 있다.
- 서버에게 작업을 시키지 않고 자료를 캐싱할 수 있다.

## 충돌
새로운 값을 저장할 때, 저장하려는 곳에 이미 다른 값으로 할당된 값이 있을 경우 충돌이 발생한다.
이러한 경우 해당 키에 연결 리스트를 이용하여 추가적으로 저장하는데, 연결 리스트가 길어진다면 해시 테이블의 속도는 느려지게 된다.

## 성능
해시 테이블은 O(1)의 시간이 걸리지만, 최악의 경우 O(n)의 시간이 걸린다.  
최악의 상황을 피하려면 최대한 충돌을 피해야 한다. 충돌을 피하려면 **낮은 사용률**, **좋은 해시 함수**가 필요하다.

#### 사용률
사용률은 해시 테이블의 빈 공간이 얼마나 남았는지 측정한다.  
- 계산법 : 해시 테이블에 있는 항목의 수 / 해시 테이블에 있는 공간의 수
example : 100개의 데이터에 100개의 공간의 사용률은 1이다. 만약 50개의 공간이라면 100/50 = 2.
사용률이 커지기 시작하면 리사이징해야 한다. 대략 두 배정도의 크기로 리사이징하는 것이 보통이다.

### 좋은 해시 함수란
배열에 값을 고루 분포하는 함수  
나쁜 해시 함수는 값들이 뭉쳐져 있어서 충돌이 자주 발생  
하지만 우리가 딱히 고민할 필요가 없다. 이미 구현되어 있고, 계속 업데이트되고 있다.(ㄱㅅㄱㅅ)

---

대부분의 프로그래밍 언어에는 이미 해시 테이블이 구현되어 있음.  
평균적인 경우 해시 테이블의 성능은 상수 시간임.  

해시 테이블은 속도가 빠르고 자료를 여러 가지로 모형화할 수 있기 때문에 아주 강력한 자료 구조임.

- 해시 테이블은 해시 함수와 배열을 결합해서 만듭
- 충돌은 나쁨. 충돌을 줄이는 해시 함수가 있어야 함
- 해시 테이블은 정말 빠른 탐색, 삽입, 삭제 속도를 가짐
- 해시 테이블은 어떤 항목과 다른 항목의 관계를 모형화하는 데 좋음
- 사용률이 0.7보다 커지면 해시 테이블을 리사이징해야 함
- 해시 테이블은 (웹 서버 등) 데이터를 캐싱하는 데도 사용
- 해시 테이블은 중복을 잡아내는 데도 좋음
